# 📊 Uesugi Engine 収集済みオープンデータ一覧
**最終更新**: 2025年6月10日 23:30
**対象地域**: 広島県、山口県、福岡県、大阪府、東京都

## 🎯 プラットフォームの目的
Uesugi Engineは、あらゆるイベント・行政施策の効果を科学的に測定する因果推論プラットフォームです。
観光だけでなく、教育・医療・防災・都市計画・経済・環境など全分野の政策効果を可視化します。

## ✅ 収集完了データ

### 1. 🚌 交通データ

#### 広島電鉄GTFSデータ（2025年6月10日収集）
- **データ形式**: GTFS (General Transit Feed Specification)
- **収集内容**:
  - 事業者数: 2社
  - 路線数: 169路線
  - 停留所数: 2,416箇所
  - 時刻表データ: 261,484件
  - カバーエリア: 広島市中心に東西75km×南北57km
- **保存場所**: `uesugi-engine-data/hiroshima/transport/bus/`
- **活用例**: バス路線変更の影響分析、イベント時の交通最適化

### 2. 📈 統計データ（e-Stat）

#### APIキー設定済み
- **APIキー**: `c11c2e7910b7810c15770f829b52bb1a75d283ed`
- **収集可能データ**:
  - 国勢調査（人口・世帯）
  - 経済センサス（事業所・従業者数）
  - 地方税統計（市町村別一人当たり地方税）
  - 住民基本台帳人口移動報告
  - 商業統計調査

#### 収集済みデータ
- **地方税データ**: 5都府県の市区町村別一人当たり地方税（2023年）
- **経済センサス**: 事業所数・従業者数（令和3年）
- **保存場所**: `uesugi-engine-data/estat-advanced/`

### 3. 🏛️ 地域オープンデータ

#### 山口県（93件収集完了）
- **特徴**: 登録不要でAPI利用可能
- **URL**: https://yamaguchi-opendata.jp/ckan/api/3/action
- **収集内容**:
  - 観光施設データ: 45件
  - 人口統計データ: 25件
  - イベント情報: 23件
- **保存場所**: `uesugi-engine-data/yamaguchi/`

#### 広島県（カタログ作成済み）
- **課題**: 直接ダウンロードは403エラー（手動DL必要）
- **重要データ**:
  - 広島市推計人口（月次更新）
  - 避難所・防災施設データ
  - 医療機関データ
  - 公共施設データ
- **保存場所**: `uesugi-engine-data/hiroshima/`

### 4. 🌤️ リアルタイムデータ

#### 気象データ（Open-Meteo API）
- **更新頻度**: 1時間ごと
- **対象都市**: 
  - 広島市（34.3853, 132.4553）
  - 山口市（34.1859, 131.4705）
  - 福岡市（33.5904, 130.4017）
  - 大阪市（34.6937, 135.5023）
  - 東京都（35.6762, 139.6503）
- **収集項目**: 気温、湿度、降水量、風速、7日間予報

#### 地震データ（気象庁API）
- **更新頻度**: 5分ごと
- **収集内容**: 最新100件の地震情報
- **データ項目**: 震源地、マグニチュード、深さ、発生時刻

### 5. 🏘️ 国土交通省データ

#### 不動産取引価格データ
- **期間**: 2023年Q3～2024年Q1
- **地域**: 5都府県の実取引データ
- **活用**: インフラ整備による地価変動分析

#### 都道府県・市区町村コード
- **内容**: 5都府県の完全なコード体系
- **保存場所**: `uesugi-engine-data/mlit/`

### 6. 🏙️ 主要都市データカタログ

#### 作成済みカタログ
- **福岡県**: IoTセンサー、スマートシティデータ
- **大阪府**: 商業統計、インバウンド観光データ
- **東京都**: 日本最大規模のオープンデータ、GTFS-RT
- **保存場所**: `uesugi-engine-data/major-cities/`

## 📍 APIエンドポイント（実装済み）

```
/api/v1/opendata/weather        # 気象データ
/api/v1/opendata/earthquake     # 地震データ
/api/v1/opendata/statistics     # 統計データ
/api/v1/opendata/transport      # 交通データ
/api/v1/events                  # イベントデータ
```

## 🔄 データ更新スケジュール

| データ種別 | 更新頻度 | 自動/手動 |
|-----------|---------|-----------|
| 気象データ | 1時間ごと | 自動 |
| 地震データ | 5分ごと | 自動 |
| 交通データ | 日次 | 半自動 |
| 統計データ | 月次/年次 | 手動 |
| 地域データ | 随時 | 手動 |

## 🚀 今後の追加予定

### 申請中
- **ODPT（公共交通オープンデータ）**: APIキー承認待ち（2日以内）
  - リアルタイム運行情報
  - 混雑度データ

### 計画中
- 各都市のリアルタイムIoTセンサーデータ
- SNS分析データ（Twitter/X API）
- 衛星画像データ（土地利用変化）

## 💡 データ活用シナリオ例

1. **新規バス路線の効果測定**
   - GTFSデータ × 人流データ × 経済統計

2. **大規模イベントの経済波及効果**
   - イベントデータ × 宿泊統計 × 交通データ

3. **防災政策の効果検証**
   - 避難所データ × 人口統計 × 気象データ

4. **教育政策の長期的影響**
   - 学校データ × 人口動態 × 地価データ

## 📝 データアクセス方法

### 1. 生データへのアクセス
```bash
# データディレクトリ
cd ~/projects/uesugi-engine/uesugi-engine-data/

# 例: 山口県データ
ls yamaguchi/

# 例: GTFSデータ
cat hiroshima/transport/bus/data_summary.json
```

### 2. API経由でのアクセス
```python
# 例: 気象データ取得
import requests

response = requests.get('http://localhost:8000/api/v1/opendata/weather')
weather_data = response.json()
```

### 3. データベースクエリ（今後実装）
```sql
-- 例: 広島市の最新人口データ
SELECT * FROM population_stats 
WHERE prefecture = '広島県' 
  AND city = '広島市'
ORDER BY date DESC 
LIMIT 1;
```

## 🔧 技術仕様

- **データフォーマット**: JSON, CSV, GeoJSON
- **文字コード**: UTF-8
- **座標系**: WGS84（緯度経度）
- **日付形式**: ISO 8601

## 📞 お問い合わせ

データに関する質問や追加要望がありましたら、GitHubのIssueまたは開発チームまでご連絡ください。

---

**注**: このドキュメントは共同開発者向けに作成されています。技術的な詳細については、各データディレクトリ内のREADMEファイルをご参照ください。