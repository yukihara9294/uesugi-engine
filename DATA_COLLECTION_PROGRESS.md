# Uesugi Engine データ収集進捗レポート

## 収集完了状況（2025年6月11日）

### ✅ 完了済み

#### 1. 広島県
- **収集方法**: 直接実装済み
- **データ**: GTFS（広島電鉄）、観光・イベント・人流データ
- **ファイル数**: 169路線、2,416停留所

#### 2. 山口県
- **収集方法**: CKAN API（yamaguchi-opendata.jp）
- **データセット**: 93件（観光45件、人口25件、イベント23件）
- **ダウンロード済み**: 122ファイル（CSV/Excel）
- **スクリプト**: `collect_yamaguchi_data_v2.py`

### ⚠️ API制限により代替手段が必要

#### 3. 福岡県
- **BODIK API**: 403 Forbidden
- **代替案**: 
  - 福岡市オープンデータ（https://www.open-governmentdata.org/fukuoka-city/）
  - 北九州市オープンデータ
  - 手動ダウンロードスクリプト

#### 4. 大阪府
- **状況**: APIエンドポイント未提供
- **代替案**:
  - 大阪市データポータル（https://data.city.osaka.lg.jp/）
  - 個別CSVダウンロード

#### 5. 東京都
- **状況**: CKAN API 404エラー
- **代替案**:
  - 東京都オープンデータカタログから直接ダウンロード
  - 国土交通省PLATEAU（3D都市モデル）

### 📊 収集統計サマリー

| 地域 | データセット数 | ダウンロード済みファイル | ステータス |
|------|--------------|---------------------|----------|
| 広島県 | 実装済み | 2,416+ | ✅ 完了 |
| 山口県 | 93 | 122 | ✅ 完了 |
| 福岡県 | 未確定 | 0 | 🔄 代替手段検討中 |
| 大阪府 | 未確定 | 0 | 🔄 代替手段検討中 |
| 東京都 | 未確定 | 0 | 🔄 代替手段検討中 |

## 次のアクション

### 優先度高
1. **手動ダウンロードスクリプトの作成**
   - 各自治体の主要データセットURLリストを作成
   - 直接ダウンロード機能を実装

2. **既存収集済みデータのPostgreSQL統合**
   - 山口県122ファイルのインポート
   - 統一スキーマの設計

3. **フロントエンド統合**
   - 県内人流データ表示バグ修正
   - 統合ダッシュボードの実装

### 代替データソース候補

#### 福岡県
- 福岡市交通局オープンデータ（地下鉄）
- 西鉄バスGTFS-JP
- 福岡県観光連盟データ

#### 大阪府
- 大阪メトロオープンデータ
- 関西国際空港統計データ
- 大阪観光局データ

#### 東京都
- 東京メトロオープンデータ
- JR東日本アプリケーションデータ
- 東京都交通局データ

## 技術的課題と解決策

### 課題
1. 各自治体でAPIの実装状況が異なる
2. 認証が必要なAPIが多い
3. データフォーマットの統一性がない

### 解決策
1. **ハイブリッドアプローチ**
   - API利用可能: 自動収集
   - API不可: URLリストベースの直接ダウンロード
   
2. **データ正規化パイプライン**
   - CSV/Excel → PostgreSQL自動インポート
   - 地理データのPostGIS変換
   
3. **段階的実装**
   - MVP版: 広島・山口の2県でリリース
   - 順次他県を追加

## リソース

- スクリプト格納場所: `/scripts/`
- データ保存場所: `/uesugi-engine-data/`
- ドキュメント: 本ファイル

---
*最終更新: 2025年6月11日 12:55*