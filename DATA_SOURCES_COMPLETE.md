# Uesugi Engine 完全データソース一覧

## 概要
Uesugi Engineは、リアルワールドデータとソーシャルデータを統合した都市分析プラットフォームです。
現在は主にダミーデータで動作していますが、実データとの接続も可能な設計になっています。

## データソース一覧

### 1. ヒートマップデータ（SNS感情分析）
- **データソース**: ダミーデータジェネレーター
- **内容**: 
  - カテゴリ: 観光、グルメ、イベント、ショッピング、交通
  - 感情スコア: -1.0（ネガティブ）〜 1.0（ポジティブ）
  - ユーザータイプ: 観光客、地元民、ビジネス
  - テキスト内容: 日本語の投稿サンプル
- **データ量**: 1日あたり200ポイント × 7日分
- **更新頻度**: 初期生成のみ（実運用では実時間更新予定）

### 2. 人流データ（Mobility）
- **データソース**: ダミーデータジェネレーター
- **内容**:
  - 移動タイプ: 通勤、観光、買い物、レジャー、ビジネス
  - 交通手段: 徒歩、自転車、車、バス、電車、タクシー
  - 年齢層: 10代〜60代以上（10歳刻み）
  - 都市間移動: 新幹線、高速道路、航空路線
- **データ量**: 1日あたり500フロー × 7日分
- **視覚化**: 3Dサイバーパンク風の光のフロー

### 3. 宿泊施設データ
- **データソース**: ダミーデータジェネレーター
- **内容**:
  - 施設タイプ: ホテル、旅館、ビジネスホテル、民泊、ゲストハウス
  - 稼働率: 0-100%（時間帯・曜日による変動）
  - ゲスト構成: 外国人/国内客比率
  - 平均価格: 施設タイプによる価格帯
- **実在施設名使用**: 各都道府県90-175軒
- **更新頻度**: 日次データ

### 4. 消費データ
- **データソース**: ダミーデータジェネレーター
- **内容**:
  - 店舗カテゴリ: 飲食、物販、サービス、観光施設、交通、宿泊
  - 取引データ: 件数、金額、観光客比率
  - 決済方法: 現金、クレジット、電子マネー、QR決済
  - 営業時間: 9:00-22:00の時間別データ
- **データ量**: エリアあたり20店舗
- **特徴**: 観光地は20倍表示で強調

### 5. ランドマークデータ
- **データソース**: ダミーデータジェネレーター + 実在座標
- **内容**:
  - 広島県: 原爆ドーム、宮島、広島駅、マツダスタジアム等
  - 東京都: 東京タワー、浅草寺、渋谷スクランブル交差点等
  - 大阪府: 大阪城、道頓堀、USJ等
  - 福岡県: 太宰府天満宮、福岡タワー、キャナルシティ等
- **データ**: 名称、カテゴリ、評価、来場者数
- **各都道府県**: 20箇所以上の主要観光地

### 6. イベントデータ
- **データソース**: ダミーデータジェネレーター
- **内容**:
  - イベントタイプ: 祭り🎊、スポーツ⚽、コンサート🎵、展示🎨、マーケット🛍️
  - 実在会場・イベント名使用
  - 予想来場者数と影響範囲
- **データ量**: 各都道府県35-45件
- **例**: 広島フラワーフェスティバル、カープ戦、宮島水中花火大会等

### 7. 気象データ
- **データソース**: 
  - **実データ**: OpenWeatherMap API（APIキー設定時）
  - **ダミーデータ**: APIキー未設定時は自動生成
- **内容**:
  - 現在の天気: 気温、湿度、降水量、風速・風向、気圧、視程
  - 天気予報: 5日間（3時間間隔）
- **更新頻度**: リアルタイム（API使用時）

### 8. AI因果推論用データ
- **データソース**: 上記データの統合分析
- **内容**:
  - 過去イベントの成功要因分析
  - 天候・SNS・交通・季節性の影響度
  - What-ifシナリオ分析
  - 将来予測（95%信頼区間）
- **手法**: Double/Debiased Machine Learning (DML)

## 外部API連携状況

### 実装済み
- **OpenWeatherMap API**
  - 環境変数: `OPENWEATHERMAP_API_KEY`
  - 用途: リアルタイム気象データ取得
  - 未設定時: ダミーデータで動作

### 設定済み（未実装）
- **e-Stat API**（政府統計API）
  - 環境変数: `ESTAT_API_KEY`
  - 予定用途: 人口動態、経済統計データ

### 将来的な連携候補
- Twitter/X API: 実際のSNS投稿分析
- Google Maps API: POI情報の充実
- 国土交通省API: 交通流データ
- 観光庁API: 観光統計データ

## データ生成ロジック

### 時間パターン
- **平日/週末**: 異なる活動パターン
- **営業時間**: 9:00-22:00で変動
- **ピークタイム**: 12:00-13:00（昼）、18:00-20:00（夜）

### 地理的分布
- **人口密度考慮**: 都市規模に応じたデータ量
- **観光地集中**: 主要観光地周辺でデータ密度上昇
- **交通ネットワーク**: 実際の路線に沿った配置

### 季節変動
- **観光シーズン**: 春（桜）、夏（祭り）、秋（紅葉）で変動
- **天候影響**: 雨天時の屋内施設へのシフト
- **イベント連動**: 大規模イベント時のデータ急増

## データアクセス方法

1. **API経由**: http://localhost:8000/api/v1/[endpoint]
2. **データベース直接**: PostgreSQL (localhost:5432)
3. **CSVエクスポート**: このドキュメントと同時に提供
4. **フロントエンド**: http://localhost:3000 で可視化

## 注意事項

- 現在のデータは主にデモ・開発用のダミーデータです
- 実運用時は各種APIキーの設定と実データソースへの接続が必要です
- データ生成アルゴリズムは現実的なパターンを再現していますが、実際の統計とは異なります