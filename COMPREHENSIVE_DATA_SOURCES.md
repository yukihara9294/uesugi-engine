# 包括的オープンデータソース一覧

## 対象地域
- 広島県、山口県、福岡県、大阪府、東京都

## 実装済みデータコレクター

### 1. 基本コレクター（実装済み）
| コレクター | ファイル | 主要データソース | 状態 |
|-----------|---------|----------------|------|
| e-Stat統計 | `estat_collector.py` | 政府統計ポータル | ✅ |
| 気象・地震 | `weather_collector.py` | Open-Meteo, 気象庁 | ✅ |
| 公共交通 | `gtfs_collector.py` | GTFS-JP, ODPT | ✅ |
| イベント・観光 | `event_collector.py` | JNTO, 自治体 | ✅ |

### 2. 包括的コレクター（新規実装）
| コレクター | ファイル | 内容 | 状態 |
|-----------|---------|------|------|
| 統合収集 | `comprehensive_collector.py` | 5都府県の全データ統合 | ✅ |
| リアルタイム | `realtime_collector.py` | ストリーミングデータ | ✅ |
| 特化型 | `specialized_collectors.py` | 分野別詳細データ | ✅ |
| ダウンロード管理 | `download_manager.py` | 大規模データDL | ✅ |

## データソース詳細

### 📊 統計データ
#### 政府統計（e-Stat）
- **人口統計**: 国勢調査、人口推計
- **経済統計**: 経済センサス、商業動態統計
- **観光統計**: 宿泊旅行統計、観光地点等入込客数

#### 地方自治体統計
- 各都府県統計課のオープンデータ
- 市町村別詳細データ

### 🚆 交通データ
#### GTFS（標準的なバス・鉄道時刻表）
- **広島**: 広島電鉄、広島バス
- **山口**: 宇部市交通局、サンデン交通
- **福岡**: 西鉄、福岡市地下鉄
- **大阪**: 大阪メトロ、大阪シティバス
- **東京**: 都営交通、東京メトロ

#### リアルタイム交通情報
- JR各社の運行情報API
- 高速道路交通情報（JARTIC）
- 駐車場満空情報

### 🌤️ 環境データ
#### 気象データ
- **Open-Meteo**: 無料気象API（実装済み）
- **気象庁**: 予報、警報、地震情報
- **アメダス**: 観測データ

#### 環境質データ
- **大気質**: そらまめ君（PM2.5等）
- **水質**: 水情報国土データ
- **花粉**: 環境省花粉観測システム

### 🎯 イベント・観光データ
#### 観光統計
- **JNTO**: 訪日外客統計
- **観光庁**: 宿泊旅行統計調査
- **各観光協会**: イベントカレンダー

#### 施設情報
- **観光施設**: 入場者数、営業情報
- **宿泊施設**: 稼働率、価格動向
- **飲食店**: 営業情報（オープンデータ部分）

### 🌐 地理空間データ
#### OpenStreetMap
- 道路ネットワーク
- 建物・施設情報
- POI（Point of Interest）

#### 国土数値情報
- 行政区域
- 土地利用
- 公共施設

### 📱 ソーシャルデータ
#### SNS（要API認証）
- Twitter/X: ハッシュタグ分析
- Instagram: 公開投稿の位置情報
- Google: レビュー・評価

#### 口コミ・レビュー
- 観光地レビュー
- 飲食店評価
- イベント感想

### 🚨 防災・安全データ
#### 災害情報
- ハザードマップ
- 避難所情報
- 過去の災害履歴

#### リアルタイム警報
- 気象警報・注意報
- 地震速報
- 交通規制情報

## データ収集方法

### 1. 一括ダウンロード
```bash
cd scripts
python download_all_opendata.py
```

### 2. 個別コレクター実行
```bash
cd src/backend/app/data_collectors
python main_collector.py
```

### 3. リアルタイムストリーム
```python
from data_collectors.realtime_collector import RealtimeDataCollector
collector = RealtimeDataCollector()
await collector.start_all_streams()
```

## データ保存構造
```
uesugi-engine-data/
├── downloads/        # ダウンロードした元データ
│   ├── statistics/
│   ├── transport/
│   ├── geographic/
│   └── realtime/
├── raw/             # 生データ
├── processed/       # 処理済みデータ
├── config/          # 設定ファイル
└── logs/           # ログファイル
```

## APIキー要件

### 必須
- なし（多くは無料・オープンデータ）

### オプション（機能拡張用）
| サービス | 用途 | 取得先 |
|---------|------|--------|
| e-Stat | 大量データ取得時 | https://www.e-stat.go.jp/api/ |
| ODPT | 詳細交通データ | https://developer.odpt.org/ |
| Twitter | SNS分析 | https://developer.twitter.com/ |
| Google Places | 施設詳細情報 | https://cloud.google.com/maps-platform/ |

## 利用上の注意

### ライセンス
- 政府標準利用規約2.0
- CC BY 4.0
- 各自治体の利用規約を確認

### レート制限
- e-Stat: 60,000件/クエリ
- 気象庁: 制限なし（常識的な範囲で）
- 各APIの制限を遵守

### データ更新頻度
- リアルタイム: 1分〜1時間
- 日次: 統計データ、イベント情報
- 月次: 人口統計、経済指標
- 年次: 国勢調査、センサス

## 今後の拡張予定

1. **追加データソース**
   - 国土地理院タイル
   - 電力使用量データ
   - 携帯電話基地局データ

2. **高度な分析機能**
   - データクレンジング自動化
   - 異常値検出
   - データ品質スコアリング

3. **API提供**
   - GraphQL エンドポイント
   - WebSocket リアルタイム配信
   - データマート機能

---

最終更新: 2025年1月10日